{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  SessionContext: true,\n  useSession: true,\n  getSession: true,\n  getCsrfToken: true,\n  getProviders: true,\n  signIn: true,\n  signOut: true,\n  SessionProvider: true\n};\nexports.SessionContext = void 0;\nexports.SessionProvider = SessionProvider;\nexports.getCsrfToken = getCsrfToken;\nexports.getProviders = getProviders;\nexports.getSession = getSession;\nexports.signIn = signIn;\nexports.signOut = signOut;\nexports.useSession = useSession;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _logger2 = _interopRequireWildcard(require(\"../utils/logger\"));\nvar _parseUrl = _interopRequireDefault(require(\"../utils/parse-url\"));\nvar _utils = require(\"../client/_utils\");\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _types = require(\"./types\");\nObject.keys(_types).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _types[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _types[key];\n    }\n  });\n});\nvar _process$env$NEXTAUTH, _ref, _process$env$NEXTAUTH2, _process$env$NEXTAUTH3, _React$createContext;\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar __NEXTAUTH = {\n  baseUrl: (0, _parseUrl.default)((_process$env$NEXTAUTH = process.env.NEXTAUTH_URL) !== null && _process$env$NEXTAUTH !== void 0 ? _process$env$NEXTAUTH : process.env.VERCEL_URL).origin,\n  basePath: (0, _parseUrl.default)(process.env.NEXTAUTH_URL).path,\n  baseUrlServer: (0, _parseUrl.default)((_ref = (_process$env$NEXTAUTH2 = process.env.NEXTAUTH_URL_INTERNAL) !== null && _process$env$NEXTAUTH2 !== void 0 ? _process$env$NEXTAUTH2 : process.env.NEXTAUTH_URL) !== null && _ref !== void 0 ? _ref : process.env.VERCEL_URL).origin,\n  basePathServer: (0, _parseUrl.default)((_process$env$NEXTAUTH3 = process.env.NEXTAUTH_URL_INTERNAL) !== null && _process$env$NEXTAUTH3 !== void 0 ? _process$env$NEXTAUTH3 : process.env.NEXTAUTH_URL).path,\n  _lastSync: 0,\n  _session: undefined,\n  _getSession: function _getSession() {}\n};\nvar broadcast = (0, _utils.BroadcastChannel)();\nvar logger = (0, _logger2.proxyLogger)(_logger2.default, __NEXTAUTH.basePath);\nfunction useOnline() {\n  var _React$useState = React.useState(typeof navigator !== \"undefined\" ? navigator.onLine : false),\n    _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n    isOnline = _React$useState2[0],\n    setIsOnline = _React$useState2[1];\n  var setOnline = function setOnline() {\n    return setIsOnline(true);\n  };\n  var setOffline = function setOffline() {\n    return setIsOnline(false);\n  };\n  React.useEffect(function () {\n    window.addEventListener(\"online\", setOnline);\n    window.addEventListener(\"offline\", setOffline);\n    return function () {\n      window.removeEventListener(\"online\", setOnline);\n      window.removeEventListener(\"offline\", setOffline);\n    };\n  }, []);\n  return isOnline;\n}\nvar SessionContext = (_React$createContext = React.createContext) === null || _React$createContext === void 0 ? void 0 : _React$createContext.call(React, undefined);\nexports.SessionContext = SessionContext;\nfunction useSession(options) {\n  if (!SessionContext) {\n    throw new Error(\"React Context is unavailable in Server Components\");\n  }\n  var value = React.useContext(SessionContext);\n  if (!value && process.env.NODE_ENV !== \"production\") {\n    throw new Error(\"[next-auth]: `useSession` must be wrapped in a <SessionProvider />\");\n  }\n  var _ref2 = options !== null && options !== void 0 ? options : {},\n    required = _ref2.required,\n    onUnauthenticated = _ref2.onUnauthenticated;\n  var requiredAndNotLoading = required && value.status === \"unauthenticated\";\n  React.useEffect(function () {\n    if (requiredAndNotLoading) {\n      var url = \"/api/auth/signin?\".concat(new URLSearchParams({\n        error: \"SessionRequired\",\n        callbackUrl: window.location.href\n      }));\n      if (onUnauthenticated) onUnauthenticated();else window.location.href = url;\n    }\n  }, [requiredAndNotLoading, onUnauthenticated]);\n  if (requiredAndNotLoading) {\n    return {\n      data: value.data,\n      update: value.update,\n      status: \"loading\"\n    };\n  }\n  return value;\n}\nfunction getSession(_x) {\n  return _getSession2.apply(this, arguments);\n}\nfunction _getSession2() {\n  _getSession2 = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee3(params) {\n    var _params$broadcast;\n    var session;\n    return _regenerator.default.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return (0, _utils.fetchData)(\"session\", __NEXTAUTH, logger, params);\n          case 2:\n            session = _context3.sent;\n            if ((_params$broadcast = params === null || params === void 0 ? void 0 : params.broadcast) !== null && _params$broadcast !== void 0 ? _params$broadcast : true) {\n              broadcast.post({\n                event: \"session\",\n                data: {\n                  trigger: \"getSession\"\n                }\n              });\n            }\n            return _context3.abrupt(\"return\", session);\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _getSession2.apply(this, arguments);\n}\nfunction getCsrfToken(_x2) {\n  return _getCsrfToken.apply(this, arguments);\n}\nfunction _getCsrfToken() {\n  _getCsrfToken = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee4(params) {\n    var response;\n    return _regenerator.default.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return (0, _utils.fetchData)(\"csrf\", __NEXTAUTH, logger, params);\n          case 2:\n            response = _context4.sent;\n            return _context4.abrupt(\"return\", response === null || response === void 0 ? void 0 : response.csrfToken);\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _getCsrfToken.apply(this, arguments);\n}\nfunction getProviders() {\n  return _getProviders.apply(this, arguments);\n}\nfunction _getProviders() {\n  _getProviders = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee5() {\n    return _regenerator.default.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return (0, _utils.fetchData)(\"providers\", __NEXTAUTH, logger);\n          case 2:\n            return _context5.abrupt(\"return\", _context5.sent);\n          case 3:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _getProviders.apply(this, arguments);\n}\nfunction signIn(_x3, _x4, _x5) {\n  return _signIn.apply(this, arguments);\n}\nfunction _signIn() {\n  _signIn = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee6(provider, options, authorizationParams) {\n    var _ref5, _ref5$callbackUrl, callbackUrl, _ref5$redirect, redirect, baseUrl, providers, isCredentials, isEmail, isSupportingReturn, signInUrl, _signInUrl, res, data, _data$url, url, error;\n    return _regenerator.default.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _ref5 = options !== null && options !== void 0 ? options : {}, _ref5$callbackUrl = _ref5.callbackUrl, callbackUrl = _ref5$callbackUrl === void 0 ? window.location.href : _ref5$callbackUrl, _ref5$redirect = _ref5.redirect, redirect = _ref5$redirect === void 0 ? true : _ref5$redirect;\n            baseUrl = (0, _utils.apiBaseUrl)(__NEXTAUTH);\n            _context6.next = 4;\n            return getProviders();\n          case 4:\n            providers = _context6.sent;\n            if (providers) {\n              _context6.next = 8;\n              break;\n            }\n            window.location.href = \"\".concat(baseUrl, \"/error\");\n            return _context6.abrupt(\"return\");\n          case 8:\n            if (!(!provider || !(provider in providers))) {\n              _context6.next = 11;\n              break;\n            }\n            window.location.href = \"\".concat(baseUrl, \"/signin?\").concat(new URLSearchParams({\n              callbackUrl: callbackUrl\n            }));\n            return _context6.abrupt(\"return\");\n          case 11:\n            isCredentials = providers[provider].type === \"credentials\";\n            isEmail = providers[provider].type === \"email\";\n            isSupportingReturn = isCredentials || isEmail;\n            signInUrl = \"\".concat(baseUrl, \"/\").concat(isCredentials ? \"callback\" : \"signin\", \"/\").concat(provider);\n            _signInUrl = \"\".concat(signInUrl).concat(authorizationParams ? \"?\".concat(new URLSearchParams(authorizationParams)) : \"\");\n            _context6.t0 = fetch;\n            _context6.t1 = _signInUrl;\n            _context6.t2 = {\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            };\n            _context6.t3 = URLSearchParams;\n            _context6.t4 = _objectSpread;\n            _context6.t5 = _objectSpread({}, options);\n            _context6.t6 = {};\n            _context6.next = 25;\n            return getCsrfToken();\n          case 25:\n            _context6.t7 = _context6.sent;\n            _context6.t8 = callbackUrl;\n            _context6.t9 = {\n              csrfToken: _context6.t7,\n              callbackUrl: _context6.t8,\n              json: true\n            };\n            _context6.t10 = (0, _context6.t4)(_context6.t5, _context6.t6, _context6.t9);\n            _context6.t11 = new _context6.t3(_context6.t10);\n            _context6.t12 = {\n              method: \"post\",\n              headers: _context6.t2,\n              body: _context6.t11\n            };\n            _context6.next = 33;\n            return (0, _context6.t0)(_context6.t1, _context6.t12);\n          case 33:\n            res = _context6.sent;\n            _context6.next = 36;\n            return res.json();\n          case 36:\n            data = _context6.sent;\n            if (!(redirect || !isSupportingReturn)) {\n              _context6.next = 42;\n              break;\n            }\n            url = (_data$url = data.url) !== null && _data$url !== void 0 ? _data$url : callbackUrl;\n            window.location.href = url;\n            if (url.includes(\"#\")) window.location.reload();\n            return _context6.abrupt(\"return\");\n          case 42:\n            error = new URL(data.url).searchParams.get(\"error\");\n            if (!res.ok) {\n              _context6.next = 46;\n              break;\n            }\n            _context6.next = 46;\n            return __NEXTAUTH._getSession({\n              event: \"storage\"\n            });\n          case 46:\n            return _context6.abrupt(\"return\", {\n              error: error,\n              status: res.status,\n              ok: res.ok,\n              url: error ? null : data.url\n            });\n          case 47:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return _signIn.apply(this, arguments);\n}\nfunction signOut(_x6) {\n  return _signOut.apply(this, arguments);\n}\nfunction _signOut() {\n  _signOut = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee7(options) {\n    var _options$redirect;\n    var _ref6, _ref6$callbackUrl, callbackUrl, baseUrl, fetchOptions, res, data, _data$url2, url;\n    return _regenerator.default.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _ref6 = options !== null && options !== void 0 ? options : {}, _ref6$callbackUrl = _ref6.callbackUrl, callbackUrl = _ref6$callbackUrl === void 0 ? window.location.href : _ref6$callbackUrl;\n            baseUrl = (0, _utils.apiBaseUrl)(__NEXTAUTH);\n            _context7.t0 = {\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            };\n            _context7.t1 = URLSearchParams;\n            _context7.next = 6;\n            return getCsrfToken();\n          case 6:\n            _context7.t2 = _context7.sent;\n            _context7.t3 = callbackUrl;\n            _context7.t4 = {\n              csrfToken: _context7.t2,\n              callbackUrl: _context7.t3,\n              json: true\n            };\n            _context7.t5 = new _context7.t1(_context7.t4);\n            fetchOptions = {\n              method: \"post\",\n              headers: _context7.t0,\n              body: _context7.t5\n            };\n            _context7.next = 13;\n            return fetch(\"\".concat(baseUrl, \"/signout\"), fetchOptions);\n          case 13:\n            res = _context7.sent;\n            _context7.next = 16;\n            return res.json();\n          case 16:\n            data = _context7.sent;\n            broadcast.post({\n              event: \"session\",\n              data: {\n                trigger: \"signout\"\n              }\n            });\n            if (!((_options$redirect = options === null || options === void 0 ? void 0 : options.redirect) !== null && _options$redirect !== void 0 ? _options$redirect : true)) {\n              _context7.next = 23;\n              break;\n            }\n            url = (_data$url2 = data.url) !== null && _data$url2 !== void 0 ? _data$url2 : callbackUrl;\n            window.location.href = url;\n            if (url.includes(\"#\")) window.location.reload();\n            return _context7.abrupt(\"return\");\n          case 23:\n            _context7.next = 25;\n            return __NEXTAUTH._getSession({\n              event: \"storage\"\n            });\n          case 25:\n            return _context7.abrupt(\"return\", data);\n          case 26:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n  return _signOut.apply(this, arguments);\n}\nfunction SessionProvider(props) {\n  if (!SessionContext) {\n    throw new Error(\"React Context is unavailable in Server Components\");\n  }\n  var children = props.children,\n    basePath = props.basePath,\n    refetchInterval = props.refetchInterval,\n    refetchWhenOffline = props.refetchWhenOffline;\n  if (basePath) __NEXTAUTH.basePath = basePath;\n  var hasInitialSession = props.session !== undefined;\n  __NEXTAUTH._lastSync = hasInitialSession ? (0, _utils.now)() : 0;\n  var _React$useState3 = React.useState(function () {\n      if (hasInitialSession) __NEXTAUTH._session = props.session;\n      return props.session;\n    }),\n    _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),\n    session = _React$useState4[0],\n    setSession = _React$useState4[1];\n  var _React$useState5 = React.useState(!hasInitialSession),\n    _React$useState6 = (0, _slicedToArray2.default)(_React$useState5, 2),\n    loading = _React$useState6[0],\n    setLoading = _React$useState6[1];\n  React.useEffect(function () {\n    __NEXTAUTH._getSession = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee() {\n      var _ref4,\n        event,\n        storageEvent,\n        _args = arguments;\n      return _regenerator.default.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _ref4 = _args.length > 0 && _args[0] !== undefined ? _args[0] : {}, event = _ref4.event;\n              _context.prev = 1;\n              storageEvent = event === \"storage\";\n              if (!(storageEvent || __NEXTAUTH._session === undefined)) {\n                _context.next = 10;\n                break;\n              }\n              __NEXTAUTH._lastSync = (0, _utils.now)();\n              _context.next = 7;\n              return getSession({\n                broadcast: !storageEvent\n              });\n            case 7:\n              __NEXTAUTH._session = _context.sent;\n              setSession(__NEXTAUTH._session);\n              return _context.abrupt(\"return\");\n            case 10:\n              if (!(!event || __NEXTAUTH._session === null || (0, _utils.now)() < __NEXTAUTH._lastSync)) {\n                _context.next = 12;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 12:\n              __NEXTAUTH._lastSync = (0, _utils.now)();\n              _context.next = 15;\n              return getSession();\n            case 15:\n              __NEXTAUTH._session = _context.sent;\n              setSession(__NEXTAUTH._session);\n              _context.next = 22;\n              break;\n            case 19:\n              _context.prev = 19;\n              _context.t0 = _context[\"catch\"](1);\n              logger.error(\"CLIENT_SESSION_ERROR\", _context.t0);\n            case 22:\n              _context.prev = 22;\n              setLoading(false);\n              return _context.finish(22);\n            case 25:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 19, 22, 25]]);\n    }));\n    __NEXTAUTH._getSession();\n    return function () {\n      __NEXTAUTH._lastSync = 0;\n      __NEXTAUTH._session = undefined;\n      __NEXTAUTH._getSession = function () {};\n    };\n  }, []);\n  React.useEffect(function () {\n    var unsubscribe = broadcast.receive(function () {\n      return __NEXTAUTH._getSession({\n        event: \"storage\"\n      });\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, []);\n  React.useEffect(function () {\n    var _props$refetchOnWindo = props.refetchOnWindowFocus,\n      refetchOnWindowFocus = _props$refetchOnWindo === void 0 ? true : _props$refetchOnWindo;\n    var visibilityHandler = function visibilityHandler() {\n      if (refetchOnWindowFocus && document.visibilityState === \"visible\") __NEXTAUTH._getSession({\n        event: \"visibilitychange\"\n      });\n    };\n    document.addEventListener(\"visibilitychange\", visibilityHandler, false);\n    return function () {\n      return document.removeEventListener(\"visibilitychange\", visibilityHandler, false);\n    };\n  }, [props.refetchOnWindowFocus]);\n  var isOnline = useOnline();\n  var shouldRefetch = refetchWhenOffline !== false || isOnline;\n  React.useEffect(function () {\n    if (refetchInterval && shouldRefetch) {\n      var refetchIntervalTimer = setInterval(function () {\n        if (__NEXTAUTH._session) {\n          __NEXTAUTH._getSession({\n            event: \"poll\"\n          });\n        }\n      }, refetchInterval * 1000);\n      return function () {\n        return clearInterval(refetchIntervalTimer);\n      };\n    }\n  }, [refetchInterval, shouldRefetch]);\n  var value = React.useMemo(function () {\n    return {\n      data: session,\n      status: loading ? \"loading\" : session ? \"authenticated\" : \"unauthenticated\",\n      update: function update(data) {\n        return (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee2() {\n          var newSession;\n          return _regenerator.default.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (!(loading || !session)) {\n                    _context2.next = 2;\n                    break;\n                  }\n                  return _context2.abrupt(\"return\");\n                case 2:\n                  setLoading(true);\n                  _context2.t0 = _utils.fetchData;\n                  _context2.t1 = __NEXTAUTH;\n                  _context2.t2 = logger;\n                  _context2.next = 8;\n                  return getCsrfToken();\n                case 8:\n                  _context2.t3 = _context2.sent;\n                  _context2.t4 = data;\n                  _context2.t5 = {\n                    csrfToken: _context2.t3,\n                    data: _context2.t4\n                  };\n                  _context2.t6 = {\n                    body: _context2.t5\n                  };\n                  _context2.t7 = {\n                    req: _context2.t6\n                  };\n                  _context2.next = 15;\n                  return (0, _context2.t0)(\"session\", _context2.t1, _context2.t2, _context2.t7);\n                case 15:\n                  newSession = _context2.sent;\n                  setLoading(false);\n                  if (newSession) {\n                    setSession(newSession);\n                    broadcast.post({\n                      event: \"session\",\n                      data: {\n                        trigger: \"getSession\"\n                      }\n                    });\n                  }\n                  return _context2.abrupt(\"return\", newSession);\n                case 19:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }))();\n      }\n    };\n  }, [session, loading]);\n  return (0, _jsxRuntime.jsx)(SessionContext.Provider, {\n    value: value,\n    children: children\n  });\n}","map":{"version":3,"names":["_interopRequireDefault","require","_typeof","Object","defineProperty","exports","value","_exportNames","SessionContext","useSession","getSession","getCsrfToken","getProviders","signIn","signOut","SessionProvider","_regenerator","_defineProperty2","_asyncToGenerator2","_slicedToArray2","React","_interopRequireWildcard","_logger2","_parseUrl","_utils","_jsxRuntime","_types","keys","forEach","key","prototype","hasOwnProperty","call","enumerable","get","_process$env$NEXTAUTH","_ref","_process$env$NEXTAUTH2","_process$env$NEXTAUTH3","_React$createContext","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","set","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","push","apply","_objectSpread","target","i","arguments","length","source","getOwnPropertyDescriptors","defineProperties","__NEXTAUTH","baseUrl","process","env","NEXTAUTH_URL","VERCEL_URL","origin","basePath","path","baseUrlServer","NEXTAUTH_URL_INTERNAL","basePathServer","_lastSync","_session","undefined","_getSession","broadcast","BroadcastChannel","logger","proxyLogger","useOnline","_React$useState","useState","navigator","onLine","_React$useState2","isOnline","setIsOnline","setOnline","setOffline","useEffect","window","addEventListener","removeEventListener","createContext","options","Error","useContext","NODE_ENV","_ref2","required","onUnauthenticated","requiredAndNotLoading","status","url","concat","URLSearchParams","error","callbackUrl","location","href","data","update","_x","_getSession2","mark","_callee3","params","_params$broadcast","session","wrap","_callee3$","_context3","prev","next","fetchData","sent","post","event","trigger","abrupt","stop","_x2","_getCsrfToken","_callee4","response","_callee4$","_context4","csrfToken","_getProviders","_callee5","_callee5$","_context5","_x3","_x4","_x5","_signIn","_callee6","provider","authorizationParams","_ref5","_ref5$callbackUrl","_ref5$redirect","redirect","providers","isCredentials","isEmail","isSupportingReturn","signInUrl","_signInUrl","res","_data$url","_callee6$","_context6","apiBaseUrl","type","t0","fetch","t1","t2","t3","t4","t5","t6","t7","t8","t9","json","t10","t11","t12","method","headers","body","includes","reload","URL","searchParams","ok","_x6","_signOut","_callee7","_options$redirect","_ref6","_ref6$callbackUrl","fetchOptions","_data$url2","_callee7$","_context7","props","children","refetchInterval","refetchWhenOffline","hasInitialSession","now","_React$useState3","_React$useState4","setSession","_React$useState5","_React$useState6","loading","setLoading","_callee","_ref4","storageEvent","_args","_callee$","_context","finish","unsubscribe","receive","_props$refetchOnWindo","refetchOnWindowFocus","visibilityHandler","document","visibilityState","shouldRefetch","refetchIntervalTimer","setInterval","clearInterval","useMemo","_callee2","newSession","_callee2$","_context2","req","jsx","Provider"],"sources":["C:/Visual Studio Code/openinapp/node_modules/next-auth/react/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {\n  SessionContext: true,\n  useSession: true,\n  getSession: true,\n  getCsrfToken: true,\n  getProviders: true,\n  signIn: true,\n  signOut: true,\n  SessionProvider: true\n};\nexports.SessionContext = void 0;\nexports.SessionProvider = SessionProvider;\nexports.getCsrfToken = getCsrfToken;\nexports.getProviders = getProviders;\nexports.getSession = getSession;\nexports.signIn = signIn;\nexports.signOut = signOut;\nexports.useSession = useSession;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _logger2 = _interopRequireWildcard(require(\"../utils/logger\"));\n\nvar _parseUrl = _interopRequireDefault(require(\"../utils/parse-url\"));\n\nvar _utils = require(\"../client/_utils\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _types = require(\"./types\");\n\nObject.keys(_types).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _types[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _types[key];\n    }\n  });\n});\n\nvar _process$env$NEXTAUTH, _ref, _process$env$NEXTAUTH2, _process$env$NEXTAUTH3, _React$createContext;\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar __NEXTAUTH = {\n  baseUrl: (0, _parseUrl.default)((_process$env$NEXTAUTH = process.env.NEXTAUTH_URL) !== null && _process$env$NEXTAUTH !== void 0 ? _process$env$NEXTAUTH : process.env.VERCEL_URL).origin,\n  basePath: (0, _parseUrl.default)(process.env.NEXTAUTH_URL).path,\n  baseUrlServer: (0, _parseUrl.default)((_ref = (_process$env$NEXTAUTH2 = process.env.NEXTAUTH_URL_INTERNAL) !== null && _process$env$NEXTAUTH2 !== void 0 ? _process$env$NEXTAUTH2 : process.env.NEXTAUTH_URL) !== null && _ref !== void 0 ? _ref : process.env.VERCEL_URL).origin,\n  basePathServer: (0, _parseUrl.default)((_process$env$NEXTAUTH3 = process.env.NEXTAUTH_URL_INTERNAL) !== null && _process$env$NEXTAUTH3 !== void 0 ? _process$env$NEXTAUTH3 : process.env.NEXTAUTH_URL).path,\n  _lastSync: 0,\n  _session: undefined,\n  _getSession: function _getSession() {}\n};\nvar broadcast = (0, _utils.BroadcastChannel)();\nvar logger = (0, _logger2.proxyLogger)(_logger2.default, __NEXTAUTH.basePath);\n\nfunction useOnline() {\n  var _React$useState = React.useState(typeof navigator !== \"undefined\" ? navigator.onLine : false),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      isOnline = _React$useState2[0],\n      setIsOnline = _React$useState2[1];\n\n  var setOnline = function setOnline() {\n    return setIsOnline(true);\n  };\n\n  var setOffline = function setOffline() {\n    return setIsOnline(false);\n  };\n\n  React.useEffect(function () {\n    window.addEventListener(\"online\", setOnline);\n    window.addEventListener(\"offline\", setOffline);\n    return function () {\n      window.removeEventListener(\"online\", setOnline);\n      window.removeEventListener(\"offline\", setOffline);\n    };\n  }, []);\n  return isOnline;\n}\n\nvar SessionContext = (_React$createContext = React.createContext) === null || _React$createContext === void 0 ? void 0 : _React$createContext.call(React, undefined);\nexports.SessionContext = SessionContext;\n\nfunction useSession(options) {\n  if (!SessionContext) {\n    throw new Error(\"React Context is unavailable in Server Components\");\n  }\n\n  var value = React.useContext(SessionContext);\n\n  if (!value && process.env.NODE_ENV !== \"production\") {\n    throw new Error(\"[next-auth]: `useSession` must be wrapped in a <SessionProvider />\");\n  }\n\n  var _ref2 = options !== null && options !== void 0 ? options : {},\n      required = _ref2.required,\n      onUnauthenticated = _ref2.onUnauthenticated;\n\n  var requiredAndNotLoading = required && value.status === \"unauthenticated\";\n  React.useEffect(function () {\n    if (requiredAndNotLoading) {\n      var url = \"/api/auth/signin?\".concat(new URLSearchParams({\n        error: \"SessionRequired\",\n        callbackUrl: window.location.href\n      }));\n      if (onUnauthenticated) onUnauthenticated();else window.location.href = url;\n    }\n  }, [requiredAndNotLoading, onUnauthenticated]);\n\n  if (requiredAndNotLoading) {\n    return {\n      data: value.data,\n      update: value.update,\n      status: \"loading\"\n    };\n  }\n\n  return value;\n}\n\nfunction getSession(_x) {\n  return _getSession2.apply(this, arguments);\n}\n\nfunction _getSession2() {\n  _getSession2 = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee3(params) {\n    var _params$broadcast;\n\n    var session;\n    return _regenerator.default.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return (0, _utils.fetchData)(\"session\", __NEXTAUTH, logger, params);\n\n          case 2:\n            session = _context3.sent;\n\n            if ((_params$broadcast = params === null || params === void 0 ? void 0 : params.broadcast) !== null && _params$broadcast !== void 0 ? _params$broadcast : true) {\n              broadcast.post({\n                event: \"session\",\n                data: {\n                  trigger: \"getSession\"\n                }\n              });\n            }\n\n            return _context3.abrupt(\"return\", session);\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _getSession2.apply(this, arguments);\n}\n\nfunction getCsrfToken(_x2) {\n  return _getCsrfToken.apply(this, arguments);\n}\n\nfunction _getCsrfToken() {\n  _getCsrfToken = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee4(params) {\n    var response;\n    return _regenerator.default.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return (0, _utils.fetchData)(\"csrf\", __NEXTAUTH, logger, params);\n\n          case 2:\n            response = _context4.sent;\n            return _context4.abrupt(\"return\", response === null || response === void 0 ? void 0 : response.csrfToken);\n\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _getCsrfToken.apply(this, arguments);\n}\n\nfunction getProviders() {\n  return _getProviders.apply(this, arguments);\n}\n\nfunction _getProviders() {\n  _getProviders = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee5() {\n    return _regenerator.default.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return (0, _utils.fetchData)(\"providers\", __NEXTAUTH, logger);\n\n          case 2:\n            return _context5.abrupt(\"return\", _context5.sent);\n\n          case 3:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _getProviders.apply(this, arguments);\n}\n\nfunction signIn(_x3, _x4, _x5) {\n  return _signIn.apply(this, arguments);\n}\n\nfunction _signIn() {\n  _signIn = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee6(provider, options, authorizationParams) {\n    var _ref5, _ref5$callbackUrl, callbackUrl, _ref5$redirect, redirect, baseUrl, providers, isCredentials, isEmail, isSupportingReturn, signInUrl, _signInUrl, res, data, _data$url, url, error;\n\n    return _regenerator.default.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _ref5 = options !== null && options !== void 0 ? options : {}, _ref5$callbackUrl = _ref5.callbackUrl, callbackUrl = _ref5$callbackUrl === void 0 ? window.location.href : _ref5$callbackUrl, _ref5$redirect = _ref5.redirect, redirect = _ref5$redirect === void 0 ? true : _ref5$redirect;\n            baseUrl = (0, _utils.apiBaseUrl)(__NEXTAUTH);\n            _context6.next = 4;\n            return getProviders();\n\n          case 4:\n            providers = _context6.sent;\n\n            if (providers) {\n              _context6.next = 8;\n              break;\n            }\n\n            window.location.href = \"\".concat(baseUrl, \"/error\");\n            return _context6.abrupt(\"return\");\n\n          case 8:\n            if (!(!provider || !(provider in providers))) {\n              _context6.next = 11;\n              break;\n            }\n\n            window.location.href = \"\".concat(baseUrl, \"/signin?\").concat(new URLSearchParams({\n              callbackUrl: callbackUrl\n            }));\n            return _context6.abrupt(\"return\");\n\n          case 11:\n            isCredentials = providers[provider].type === \"credentials\";\n            isEmail = providers[provider].type === \"email\";\n            isSupportingReturn = isCredentials || isEmail;\n            signInUrl = \"\".concat(baseUrl, \"/\").concat(isCredentials ? \"callback\" : \"signin\", \"/\").concat(provider);\n            _signInUrl = \"\".concat(signInUrl).concat(authorizationParams ? \"?\".concat(new URLSearchParams(authorizationParams)) : \"\");\n            _context6.t0 = fetch;\n            _context6.t1 = _signInUrl;\n            _context6.t2 = {\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            };\n            _context6.t3 = URLSearchParams;\n            _context6.t4 = _objectSpread;\n            _context6.t5 = _objectSpread({}, options);\n            _context6.t6 = {};\n            _context6.next = 25;\n            return getCsrfToken();\n\n          case 25:\n            _context6.t7 = _context6.sent;\n            _context6.t8 = callbackUrl;\n            _context6.t9 = {\n              csrfToken: _context6.t7,\n              callbackUrl: _context6.t8,\n              json: true\n            };\n            _context6.t10 = (0, _context6.t4)(_context6.t5, _context6.t6, _context6.t9);\n            _context6.t11 = new _context6.t3(_context6.t10);\n            _context6.t12 = {\n              method: \"post\",\n              headers: _context6.t2,\n              body: _context6.t11\n            };\n            _context6.next = 33;\n            return (0, _context6.t0)(_context6.t1, _context6.t12);\n\n          case 33:\n            res = _context6.sent;\n            _context6.next = 36;\n            return res.json();\n\n          case 36:\n            data = _context6.sent;\n\n            if (!(redirect || !isSupportingReturn)) {\n              _context6.next = 42;\n              break;\n            }\n\n            url = (_data$url = data.url) !== null && _data$url !== void 0 ? _data$url : callbackUrl;\n            window.location.href = url;\n            if (url.includes(\"#\")) window.location.reload();\n            return _context6.abrupt(\"return\");\n\n          case 42:\n            error = new URL(data.url).searchParams.get(\"error\");\n\n            if (!res.ok) {\n              _context6.next = 46;\n              break;\n            }\n\n            _context6.next = 46;\n            return __NEXTAUTH._getSession({\n              event: \"storage\"\n            });\n\n          case 46:\n            return _context6.abrupt(\"return\", {\n              error: error,\n              status: res.status,\n              ok: res.ok,\n              url: error ? null : data.url\n            });\n\n          case 47:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return _signIn.apply(this, arguments);\n}\n\nfunction signOut(_x6) {\n  return _signOut.apply(this, arguments);\n}\n\nfunction _signOut() {\n  _signOut = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee7(options) {\n    var _options$redirect;\n\n    var _ref6, _ref6$callbackUrl, callbackUrl, baseUrl, fetchOptions, res, data, _data$url2, url;\n\n    return _regenerator.default.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _ref6 = options !== null && options !== void 0 ? options : {}, _ref6$callbackUrl = _ref6.callbackUrl, callbackUrl = _ref6$callbackUrl === void 0 ? window.location.href : _ref6$callbackUrl;\n            baseUrl = (0, _utils.apiBaseUrl)(__NEXTAUTH);\n            _context7.t0 = {\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            };\n            _context7.t1 = URLSearchParams;\n            _context7.next = 6;\n            return getCsrfToken();\n\n          case 6:\n            _context7.t2 = _context7.sent;\n            _context7.t3 = callbackUrl;\n            _context7.t4 = {\n              csrfToken: _context7.t2,\n              callbackUrl: _context7.t3,\n              json: true\n            };\n            _context7.t5 = new _context7.t1(_context7.t4);\n            fetchOptions = {\n              method: \"post\",\n              headers: _context7.t0,\n              body: _context7.t5\n            };\n            _context7.next = 13;\n            return fetch(\"\".concat(baseUrl, \"/signout\"), fetchOptions);\n\n          case 13:\n            res = _context7.sent;\n            _context7.next = 16;\n            return res.json();\n\n          case 16:\n            data = _context7.sent;\n            broadcast.post({\n              event: \"session\",\n              data: {\n                trigger: \"signout\"\n              }\n            });\n\n            if (!((_options$redirect = options === null || options === void 0 ? void 0 : options.redirect) !== null && _options$redirect !== void 0 ? _options$redirect : true)) {\n              _context7.next = 23;\n              break;\n            }\n\n            url = (_data$url2 = data.url) !== null && _data$url2 !== void 0 ? _data$url2 : callbackUrl;\n            window.location.href = url;\n            if (url.includes(\"#\")) window.location.reload();\n            return _context7.abrupt(\"return\");\n\n          case 23:\n            _context7.next = 25;\n            return __NEXTAUTH._getSession({\n              event: \"storage\"\n            });\n\n          case 25:\n            return _context7.abrupt(\"return\", data);\n\n          case 26:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n  return _signOut.apply(this, arguments);\n}\n\nfunction SessionProvider(props) {\n  if (!SessionContext) {\n    throw new Error(\"React Context is unavailable in Server Components\");\n  }\n\n  var children = props.children,\n      basePath = props.basePath,\n      refetchInterval = props.refetchInterval,\n      refetchWhenOffline = props.refetchWhenOffline;\n  if (basePath) __NEXTAUTH.basePath = basePath;\n  var hasInitialSession = props.session !== undefined;\n  __NEXTAUTH._lastSync = hasInitialSession ? (0, _utils.now)() : 0;\n\n  var _React$useState3 = React.useState(function () {\n    if (hasInitialSession) __NEXTAUTH._session = props.session;\n    return props.session;\n  }),\n      _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),\n      session = _React$useState4[0],\n      setSession = _React$useState4[1];\n\n  var _React$useState5 = React.useState(!hasInitialSession),\n      _React$useState6 = (0, _slicedToArray2.default)(_React$useState5, 2),\n      loading = _React$useState6[0],\n      setLoading = _React$useState6[1];\n\n  React.useEffect(function () {\n    __NEXTAUTH._getSession = (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee() {\n      var _ref4,\n          event,\n          storageEvent,\n          _args = arguments;\n\n      return _regenerator.default.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _ref4 = _args.length > 0 && _args[0] !== undefined ? _args[0] : {}, event = _ref4.event;\n              _context.prev = 1;\n              storageEvent = event === \"storage\";\n\n              if (!(storageEvent || __NEXTAUTH._session === undefined)) {\n                _context.next = 10;\n                break;\n              }\n\n              __NEXTAUTH._lastSync = (0, _utils.now)();\n              _context.next = 7;\n              return getSession({\n                broadcast: !storageEvent\n              });\n\n            case 7:\n              __NEXTAUTH._session = _context.sent;\n              setSession(__NEXTAUTH._session);\n              return _context.abrupt(\"return\");\n\n            case 10:\n              if (!(!event || __NEXTAUTH._session === null || (0, _utils.now)() < __NEXTAUTH._lastSync)) {\n                _context.next = 12;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 12:\n              __NEXTAUTH._lastSync = (0, _utils.now)();\n              _context.next = 15;\n              return getSession();\n\n            case 15:\n              __NEXTAUTH._session = _context.sent;\n              setSession(__NEXTAUTH._session);\n              _context.next = 22;\n              break;\n\n            case 19:\n              _context.prev = 19;\n              _context.t0 = _context[\"catch\"](1);\n              logger.error(\"CLIENT_SESSION_ERROR\", _context.t0);\n\n            case 22:\n              _context.prev = 22;\n              setLoading(false);\n              return _context.finish(22);\n\n            case 25:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 19, 22, 25]]);\n    }));\n\n    __NEXTAUTH._getSession();\n\n    return function () {\n      __NEXTAUTH._lastSync = 0;\n      __NEXTAUTH._session = undefined;\n\n      __NEXTAUTH._getSession = function () {};\n    };\n  }, []);\n  React.useEffect(function () {\n    var unsubscribe = broadcast.receive(function () {\n      return __NEXTAUTH._getSession({\n        event: \"storage\"\n      });\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, []);\n  React.useEffect(function () {\n    var _props$refetchOnWindo = props.refetchOnWindowFocus,\n        refetchOnWindowFocus = _props$refetchOnWindo === void 0 ? true : _props$refetchOnWindo;\n\n    var visibilityHandler = function visibilityHandler() {\n      if (refetchOnWindowFocus && document.visibilityState === \"visible\") __NEXTAUTH._getSession({\n        event: \"visibilitychange\"\n      });\n    };\n\n    document.addEventListener(\"visibilitychange\", visibilityHandler, false);\n    return function () {\n      return document.removeEventListener(\"visibilitychange\", visibilityHandler, false);\n    };\n  }, [props.refetchOnWindowFocus]);\n  var isOnline = useOnline();\n  var shouldRefetch = refetchWhenOffline !== false || isOnline;\n  React.useEffect(function () {\n    if (refetchInterval && shouldRefetch) {\n      var refetchIntervalTimer = setInterval(function () {\n        if (__NEXTAUTH._session) {\n          __NEXTAUTH._getSession({\n            event: \"poll\"\n          });\n        }\n      }, refetchInterval * 1000);\n      return function () {\n        return clearInterval(refetchIntervalTimer);\n      };\n    }\n  }, [refetchInterval, shouldRefetch]);\n  var value = React.useMemo(function () {\n    return {\n      data: session,\n      status: loading ? \"loading\" : session ? \"authenticated\" : \"unauthenticated\",\n      update: function update(data) {\n        return (0, _asyncToGenerator2.default)(_regenerator.default.mark(function _callee2() {\n          var newSession;\n          return _regenerator.default.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  if (!(loading || !session)) {\n                    _context2.next = 2;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"return\");\n\n                case 2:\n                  setLoading(true);\n                  _context2.t0 = _utils.fetchData;\n                  _context2.t1 = __NEXTAUTH;\n                  _context2.t2 = logger;\n                  _context2.next = 8;\n                  return getCsrfToken();\n\n                case 8:\n                  _context2.t3 = _context2.sent;\n                  _context2.t4 = data;\n                  _context2.t5 = {\n                    csrfToken: _context2.t3,\n                    data: _context2.t4\n                  };\n                  _context2.t6 = {\n                    body: _context2.t5\n                  };\n                  _context2.t7 = {\n                    req: _context2.t6\n                  };\n                  _context2.next = 15;\n                  return (0, _context2.t0)(\"session\", _context2.t1, _context2.t2, _context2.t7);\n\n                case 15:\n                  newSession = _context2.sent;\n                  setLoading(false);\n\n                  if (newSession) {\n                    setSession(newSession);\n                    broadcast.post({\n                      event: \"session\",\n                      data: {\n                        trigger: \"getSession\"\n                      }\n                    });\n                  }\n\n                  return _context2.abrupt(\"return\", newSession);\n\n                case 19:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }))();\n      }\n    };\n  }, [session, loading]);\n  return (0, _jsxRuntime.jsx)(SessionContext.Provider, {\n    value: value,\n    children: children\n  });\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}